---
title: 搭建图床 # 文章标题
description: 基于阿里云对象存储OSS搭建自己的图床
category: # 分类
  - 文章
tag: # 标签
  - 工具
  - 图床
---

## 简介
### 什么是图床
简单来说，图床就是个储存图片的服务器，使用户能简单的通过互联网查看其中的图片
### 图床种类
- 免费公共图床
别人搭建好的图床
	- 优点：免费、易用
	- 缺点：容易跑路、访问速度不稳定
	- 代表：[路过图床](https://imgtu.com/)
- 使用云盘做图床
这算是邪道了，用那些网盘来部署服务
	- 优点：免费
	- 缺点：麻烦、不稳定
- 云存储做云盘
使用云服务商提供的存储服务部署图床
	- 优点：速度快、稳定
	- 缺点：要钱
	- 代表：阿里OSS
- github/coding/gitee图床
这也算是邪道吧，利用这些产品的仓库来存放图片
	- 优点：免费
	- 缺点：网速（GitHub）、不稳定（Gitee）
- 嫖大厂
- 假设你在微博上传了一张照片，别人就可以通过链接查看这张图了，是不是和我们图床的功能差不多呢
	- 优点：相对来说存大厂不太容易丢失
	- 缺点：毕竟是邪道、有些厂会防盗链
### 什么是OSS
倒也不用太在意，就当是块网盘了，详细的可以看阿里云的产品介绍[OSS 学习路径](https://help.aliyun.com/learn/learningpath/oss.html)

:::info 其他服务商
其实国内的云服务商那么多家，基本都有类似的产品，只不过名称和价格可能不太一样。因为我阿里云用得较多所以选择阿里云，你们也可以根据自己的情况选择合适的服务商。
:::
## 为什么要这么做？
### 为什么要用图床
图床的作用在于，将图片上传至图床，再将图床返回的链接插入页面中。  
相比使用本地文件的优势在于：
1. 页面中是使用网络链接插入图片，使得文章打开时只要有网络就能正常加载图片，而不会动一下文件目录链接就失效了
2. 在静态页面中，图片资源占用量相对较大，如果页面中图片较多可能会导致页面加载速度变慢。使用图床则可以做到先加载出页面，再慢慢加载图片，提高使用体验
3. 降低网站服务器的压力
### 为什么要用OSS
:::info
这里语境下的OSS指的是这类产品，对比其他类型图床搭建方式
:::
参考[图床种类](#图床种类)中的各项方案，OSS主要优势在于非常稳定，并且价格也不高（没啥人看的话）
## 开始搭建
### 一、开通OSS服务
- 购买OSS服务：<https://www.aliyun.com/product/oss/>
- 在控制台新建Bucket[^1]
![](https://img.lycm.xyz/img/20220606202646.png)
- 名称：根据自己的想法填写   
- 地域：对于单独这个实例来说只要是大陆都一样，可以选择离自己近的机房
- 存储类型：选择标准存储
- **读写权限：选择公共读**
- 其他选项可以根据自己情况选择
:::info
如果你有其他云服务可以与之联动的话，建议选择同一个地域，这样你的服务之间传输数据就属于内网流量。
:::
### 二、获取AccessKey
- 将鼠标移到右上角头像处 -> 选择 `AccessKey 管理`  
![](https://img.lycm.xyz/img/20220606204918.png)
- 可能会弹出警告，选择继续使用  
![](https://img.lycm.xyz/img/20220606205153.png)
- 创建 AccessKey 并且验证信息，成功后就能复制 `AccessKey、AccessKeySecret`
### 三、PicGo安装配置
PicGo是一个开源项目，可以用来快捷上传图片到图床。  
相当于OSS是服务器，PicGo是客户端
- 下载安装：<https://github.com/Molunerfinn/PicGo/releases>
- 进入 图床设置 -> 阿里云OSS
![](https://img.lycm.xyz/img/20220606204317.png)
- 填入参数
	- 设定KeyId：[AccessKey](#二、获取accesskey)
	- 设定KeySecret：[AccessKeySecret](#二、获取accesskey)
	- 设定储存空间名：创建的Bucket的名字
	- 确认存储区域：进入Bucket -> 概览 -> 访问域名 -> Endpoint（地域节点）的前部分 `oss-cn-hangzhou` 最后一段应该是和所选的地区相关
	- 指定存储路径：存放在空间的路径，比如 `pic/` ，但好像不能存放在根目录
	- 设定网址后缀：在链接后面加上参数，可不填
	- 设定自定义域名：将阿里的域名改为设置的域名，不建议填写此项，要改域名可以直接去阿里云控制台修改域名
- 上传第一张图片
	- 回到上传区选择刚刚设置好的图床
	- 上传一张图片，如果上传成功则阿里云控制台也能够查看到上传的图片。
	- 复制文件链接在浏览器中打开，如果可以成功查看则说明配置完成。



[^1]: Bucket 意为"桶"，可以理解为容器